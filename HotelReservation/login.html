<!DOCTYPE html>
<html>
<head>
	<title>Login</title>
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<link href="https://fonts.googleapis.com/css?family=Poppins:600&display=swap" rel="stylesheet">
	<script src="https://kit.fontawesome.com/a81368914c.js"></script>
</head>
<body>
	<img class="wave" src="images/wave.png">
    
	<div class="container">
		<div class="img">
			<img src="images/login.png">
		</div>
		<div class="login-content">


			<form>
				<img src="images/avatar.png">
				<h2 class="title">Welcome</h2>
           		<div class="input-div one">

           		   <div class="i">
           		   		<i class="fas fa-user"></i>
           		   </div>

           		   <div class="div">
           		   		<h5>USERNAME</h5>
           		   		<input type="text" class="input" id="username" name="username">
           		   </div>

           		</div>
           		<div class="input-div pass">
           		   <div class="i"> 
           		    	<i class="fas fa-lock"></i>
           		   </div>

           		   <div class="div">
           		    	<h5>PASSWORD</h5>
           		    	<input type="password" class="input" id="pass" name="pass">
            	   </div>
            	</div>
            	
            	<input type="button" class="btn" value="Login" onclick="check()">

                <p class="forget">Don't have an account<a href="signup.html">Click Here</a></p>
            </form>
        </div>
    </div>

    <script>
        const inputs = document.querySelectorAll(".input");

function addcl(){
	let parent = this.parentNode.parentNode;
	parent.classList.add("focus");
}

function remcl(){
	let parent = this.parentNode.parentNode;
	if(this.value == ""){
		parent.classList.remove("focus");
	}
}

inputs.forEach(input => {
	input.addEventListener("focus", addcl);
	input.addEventListener("blur", remcl);
});


// function check(){
//     let username=document.getElementById('username').value;
//     let password=document.getElementById('pass').value;
//     // console.log(username, password);

//     let pass= localStorage.getItem(`${username}`);
//     // console.log(pass);

//     if (pass==password){
//         alert("success");
//         console.log("success");
//         window.location.replace("http://127.0.0.1:5500/LocalStroage/welcome.html");
//     }
//     else{
//         alert("error");
//         console.log("error");
//     }

// }


function check()
    {

        let uname=document.getElementById('username').value;
        let pwd=document.getElementById('pass').value;
        console.log(uname,pwd);

        let userdata = JSON.parse(localStorage.getItem("Userdetails"));
        console.log(userdata);
        
        var i;

        for(i=0;i<userdata.length;i++)
        {
            if(userdata[i].username==uname && userdata[i].password==pwd)
              {
                alert("Success");
                console.log("success");
                window.location.replace("http://127.0.0.1:5500/HotelReservation/welcome.html");
                break;
              }
        }
		
        if(i==userdata.length){
           alert("error invalid user");
        }
         
    }

    </script>
</body>
</html>